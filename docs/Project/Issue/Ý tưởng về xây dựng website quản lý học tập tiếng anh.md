---
Created: 21:23 08-11-2024
tags:
  - issue
---
Link relate:
- https://chatgpt.com/share/672e4a03-0340-8011-9962-828570782cab (Main)
- https://chatgpt.com/share/672dff3f-b808-8011-bcdc-5308c007cdbe

---

TLDR: 
- Thêm chức năng youtube nghe chép chính tả 
- Tạo được câu hỏi từ mảng từ vựng
- Thêm được widget ôn từ vựng hằng ngày trên điện thoại như 
---

### **Tuần 1, Ngày 1: Popup chọn cấp độ khi thêm space mới**

**Tổng thời gian: 12 giờ**

#### **Pomodoro 1-4 (2 giờ)**
- **Task 1.1**: Lên ý tưởng và phác thảo thiết kế cho popup chọn cấp độ.
  - Pomodoro 1-2 (50 phút): Phác thảo thiết kế cơ bản, xác định các cấp độ và cách hiển thị.
  - Pomodoro 3-4 (50 phút): Chỉnh sửa và hoàn thiện thiết kế, xác định các trạng thái người dùng.

#### **Pomodoro 5-8 (2 giờ)**
- **Task 1.2**: Thiết kế giao diện popup trong React với MUI.
  - Pomodoro 5-6 (50 phút): Bắt đầu code giao diện và cấu trúc các phần tử trong popup.
  - Pomodoro 7-8 (50 phút): Thêm các biểu tượng, màu sắc và cấu trúc cho popup.

#### **Pomodoro 9-12 (2 giờ)**
- **Task 1.3**: Tích hợp tương tác người dùng.
  - Pomodoro 9-10 (50 phút): Thêm logic cho các nút chọn cấp độ.
  - Pomodoro 11-12 (50 phút): Tạo animation cho popup xuất hiện và ẩn đi.

#### **Pomodoro 13-16 (2 giờ)**
- **Task 1.4**: Tối ưu hóa UI và kiểm tra hiển thị trên các thiết bị.
  - Pomodoro 13-14 (50 phút): Tối ưu hiển thị cho màn hình nhỏ và lớn.
  - Pomodoro 15-16 (50 phút): Kiểm tra giao diện trên các trình duyệt và tối ưu hóa.

#### **Pomodoro 17-20 (2 giờ)**
- **Task 1.5**: Viết CSS và tinh chỉnh chi tiết cho popup.
  - Pomodoro 17-18 (50 phút): Tối ưu CSS và kiểm tra độ tương thích trên các trình duyệt.
  - Pomodoro 19-20 (50 phút): Hoàn thiện CSS và kiểm tra lại toàn bộ giao diện popup.

#### **Pomodoro 21-24 (2 giờ)**
- **Task 1.6**: Kiểm tra, debug và chuẩn bị cho phần heatmap và trang chi tiết space.
  - Pomodoro 21-22 (50 phút): Test toàn bộ popup chọn cấp độ.
  - Pomodoro 23-24 (50 phút): Tổng hợp ghi chú về lỗi hoặc cải tiến cho task tiếp theo.

---

### **Tuần 1, Ngày 2: Trang chi tiết Learning Space (heatmap, số lượng bài viết, từ vựng, khóa học)**

#### **Pomodoro 1-4 (2 giờ)**
- **Task 2.1**: Thiết kế và phân tích UI cho trang chi tiết space.
  - Pomodoro 1-2 (50 phút): Phác thảo giao diện tổng quan của trang.
  - Pomodoro 3-4 (50 phút): Thiết kế layout với các thành phần như heatmap, danh sách khóa học, và số lượng mục.

#### **Pomodoro 5-8 (2 giờ)**
- **Task 2.2**: Xây dựng heatmap streak và hiển thị số liệu cơ bản.
  - Pomodoro 5-6 (50 phút): Tạo heatmap streak đơn giản, chuẩn bị dữ liệu demo.
  - Pomodoro 7-8 (50 phút): Tạo các thành phần hiển thị số lượng bài viết, từ vựng, note.

#### **Pomodoro 9-12 (2 giờ)**
- **Task 2.3**: Tạo danh sách khóa học đã tham gia.
  - Pomodoro 9-10 (50 phút): Tạo danh sách khóa học với trạng thái tiến độ.
  - Pomodoro 11-12 (50 phút): Thêm nút “View More” và tích hợp chức năng click.

#### **Pomodoro 13-16 (2 giờ)**
- **Task 2.4**: Tinh chỉnh UI cho các phần tử và kiểm tra trải nghiệm người dùng.
  - Pomodoro 13-14 (50 phút): Điều chỉnh kích thước, màu sắc, và độ hiển thị cho heatmap và số liệu.
  - Pomodoro 15-16 (50 phút): Kiểm tra trải nghiệm người dùng, điều chỉnh nếu cần thiết.

#### **Pomodoro 17-20 (2 giờ)**
- **Task 2.5**: Viết CSS và tối ưu layout.
  - Pomodoro 17-18 (50 phút): Tối ưu CSS cho các phần tử.
  - Pomodoro 19-20 (50 phút): Điều chỉnh giao diện cho từng loại thiết bị.

#### **Pomodoro 21-24 (2 giờ)**
- **Task 2.6**: Kiểm tra, debug, và tổng hợp.
  - Pomodoro 21-22 (50 phút): Kiểm tra toàn bộ tính năng của trang Learning Space.
  - Pomodoro 23-24 (50 phút): Ghi chú các điểm cần cải thiện cho trang này.

---

### **Tuần 1, Ngày 3: Trang tìm kiếm và danh sách khóa học**

#### **Pomodoro 1-4 (2 giờ)**
- **Task 3.1**: Thiết kế layout cho trang tìm kiếm khóa học.
  - Pomodoro 1-2 (50 phút): Phác thảo giao diện, bao gồm thanh tìm kiếm và bộ lọc.
  - Pomodoro 3-4 (50 phút): Cấu trúc giao diện với khung danh sách khóa học.

#### **Pomodoro 5-8 (2 giờ)**
- **Task 3.2**: Tạo thanh tìm kiếm và chức năng lọc.
  - Pomodoro 5-6 (50 phút): Thiết kế UI cho thanh tìm kiếm.
  - Pomodoro 7-8 (50 phút): Tạo bộ lọc khóa học theo tiêu chí trình độ và các tiêu chí khác.

#### **Pomodoro 9-12 (2 giờ)**
- **Task 3.3**: Hiển thị danh sách khóa học và gợi ý khóa học theo level.
  - Pomodoro 9-10 (50 phút): Tạo danh sách khóa học gợi ý dựa trên level.
  - Pomodoro 11-12 (50 phút): Tinh chỉnh giao diện cho từng khóa học trong danh sách.

#### **Pomodoro 13-16 (2 giờ)**
- **Task 3.4**: Tối ưu UI và kiểm tra.
  - Pomodoro 13-14 (50 phút): Điều chỉnh CSS và thiết kế hiển thị danh sách khóa học.
  - Pomodoro 15-16 (50 phút): Tối ưu bố cục trang và kiểm tra trên các thiết bị khác nhau.

#### **Pomodoro 17-20 (2 giờ)**
- **Task 3.5**: Viết CSS và cải tiến UI/UX.
  - Pomodoro 17-18 (50 phút): Tối ưu giao diện và hiệu ứng hover.
  - Pomodoro 19-20 (50 phút): Kiểm tra UX để đảm bảo sự mượt mà.

#### **Pomodoro 21-24 (2 giờ)**
- **Task 3.6**: Kiểm tra, debug, và tối ưu giao diện.
  - Pomodoro 21-22 (50 phút): Kiểm tra toàn bộ tính năng của trang tìm kiếm.
  - Pomodoro 23-24 (50 phút): Ghi chú những điểm cần cải thiện cho các task sau.




----
## Mô tả :
Khi mới đăng kí user sẽ được dẫn đến trang Dashboard ,
- Trang này hiển thị thống kê streak  số lượng essay , notes , course joined và vocab đã lưu và danh sách space nếu có
	- endpoint cần thiết 
		- GET api/spaces/user
			- request
				- spaceId
				- page?
				- search?
				- perPage?
			- response
				- data: space[]
				- pagination
		- GET api/stats/user/activity-streak
			- request
				- startDate
				- endDate
			- response
				- activities [] : 
					- date
					- level
					- streak
				- currentStreak:
					- date
					- level
					- streak
		- GET api/stats/user/overview
			- request
			- mô tả : đếm các giá trị overview theo id user đính kèm trong auth
			- response
				- essayCount
				- vocabCount
				- courseJoinedCount
				- notesCount
- User tiến hành tạo space . lúc này bên sidebar sẽ hiển thị tab essay , notes, course joined , vocab (nghĩa là nó thuộc vào space)
	- endpoint cần thiết :
		- POST api/spaces
			- request:
				- name
				- description
				- target 
				- language
			- response
				- space
		- PATCH api/spaces/:id
			- request:
				- name
				- description
				- target 
				- language
			- response
				- space
		- GET: api/spaces/:id
			- request
			- response
				- space

- User bấm vào tab essay sẽ vào trang view all essay (Tạm bỏ qua vì đã có)
	- endpoint cần thiết
		- GET api/essays
			- request
				- spaceId
			- response
				- data: essay[]
				- pagination
- User bấm vào tab notes sẽ vào trang view all notes
	- endpoint cần thiết
		- GET api/spaces/:id/notes
			- request
			- Mô tả: dùng raw query để tối giản và trường cần thiết
			- response
				- spaceId
				- unitId
				- isBookmark
				- titleUnit
		 PATCH api/spaces/:id/notes/:id/bookmark
			- request
			- Mô tả: toggle đơn giản is_bookmarked == true
			- response
				- status
- User bấm vào tab vocabulary sẽ vào trang view all vocab
	- endpoint càn thiết
		- GET api/spaces/:id/vocabulary
			- request
			- response 
				- data: vocabulary[]
				- pagination
		- PATCH api/vocabularies/:id
			- request
				- term?
				- meaning?
				- exampleSentence?
				- referenceLink
				- referenceName
				- imageUrl?
				- next review?
				- repetitionLevel ?
			- response 
				- vocabulary
 User bấm vào tab course sẽ vào trang view all course joined , và button để explore more course
	- endpoint cần thiết
		- GET api/spaces/:id/courses
			- request
			- mô tả: Dùng raw query để truy vấn và trả về có thêm is_joined khi left join với bảng space course và is_published=true
			- response 
				- data: course[]
				- pagination
User bấm explore more. Sẽ dẫn đến trang course explorer , gồm top 5 recommend course dựa vào target và level của space
	-  endpoint cần thiết
		-  POST api/courses/recommend
			- request: 
				- spaceId
			- Mô tả : Nó sẽ dùng raw query để có thêm trường is_joined để client hiển thị nút hợp lý và is_published=true
			-  response 
				- course[]
		- GET api/courses
			- request:
				- search?
				- page?
				- perPage?
			-  Mô tả : Nó sẽ dùng raw query để có thêm trường is_joined và is_published=true
			- response:
				- data: course[]
				- pagination
		-  PATCH api/courses/:id/join
			- request
				- spaceId
			- mô tả : Check bảng SpaceCourse có trường nào không , và joinAt có giá trị không và is_published=true
			- response: 
				- joinAt
				- message
User bấm vào course bất kì sẽ dẫn đến trang chi tiết course
	- endpoint cần thiết: 
		- POST : api/courses/:id
			- request:
				- spaceId
			- Mô tả: dùng raw query để có thêm trường is_joined trong coure , lấy chi tiết bảng unit many to one , createdBy , bảng review nếu cần và nhớ check is_published=true thì mới hiện
			- response
				- course
		- GET: api/courses/:id/reviews (tạm thời bỏ qua)
			- request
				- page
				-perPage
			- response
				- data: reviews
				- pagination

User bấm vào chi tiết unit , nếu chưa join sẽ có popup yêu cầu join hoặc yêu cầu thanh toán, còn join rồi thì tiếp tục đến trang detail Unit
	- endpoint cần thiết:
		- GET api/course/:id/units
			- request: 
			- response:
				- unit[]
		- GET : api/units/:id
			- request:
			- mô tả: trả về có bao gồm cả note nếu có của unit này
			- response:
		- GET api/units/:id/unit-contents
			- request:
			- mô tả: trả về các trường của unit_contents , trừ content lát nữa chỉ gọi lúc bấm vào show tab
			- response
				- unit_id
				- title
				- content_type
				- order_index
				 - is_premium
				 - is_required
				 - complete_weight
				 - is_done
				 - created__at
				 - update_at
		 -GET api/unit-contents/:id
			 - request
			 - mô tả: trả về đầy đủ
			 - response:
				- unit_id
				- title
				- content_type
				- content
				- order_index
				 - is_premium
				 - is_required
				 - complete_weight
				 - is_done
				 - created__at
				 - update_at
		 - POST api/units/:id/notes
			 - request
				 - content
				 - tags []
			 - mô tả: check exist nếu chưa có thì tạo và update content, tags  hiện tại
			 - response
				 -  status
				 -  message
		- GET api/units/:id/comments (chưa cần gấp)


- Ở giao diện admin , khi admin vừa đăng nhập thì sẽ đến với trang home
	- endpoint cần thiết:
		- GET api/stats/admin/overview
			- request
			- mô tả: đếm tất cả giá trị cần overview của toàn bộ app
			- response
				- essayCount
				- vocabCount
				- courseCount
				- notesCount
		- GET api/stats/admin/user-growth (chưa cần thiết)
		- GET api/stats/admin/revenue (chưa cần thiết)
- Bên cạnh sẽ có các tab như course management , user managerment , payment management
- User management (chưa gấp)
	- các endpoint cần thiết
		- GET api/users
		- PATCH api/users
		- POST api/users
- Payment managment: (chưa gấp)
- Course management:
	- các endpoint cần thiết
		- GET api/courses
			- request:
				- search
				- page
				- perPage
			- response
				- data : course
				- pagination
- Khi user bấm vào edit course thì cũng đã xem được chi tiết course
	- GET api/courses/:id  có cả units
		- request:
		- response: 
			- course
	- PUT api/courses/:id
		- request: 
		- mô tả: check existing course và cập nhật các trường của course
		- response
			- status
			- message
	- POST api/courses/:id/units
		- request:
			-  title
			- order_index
		- response
			- status
			- message
	- GET api/units/:id/
		- request:
		- mô tả: có bao gồm cả trường unit_contents[] ở đây
		- response:
			- unit
	- POST
		- request: 
			- unit_id
			- title
			- content_type
			- content
			- order_index
			- is_premium?
			- is_required?
			- complete_weight?
			- is_done?
		- response: 
			- status
			- response
	- PATCH api/unit-contents/:id
		- request:
			- title?
			- content_type?
			- content?
			- order_index?
			- is_premium?
			- is_required?
			- complete_weight?
			- is_done?
		-  response: 
			- status
			- response



## API Requirement
template: 
- Quyền : 
- Endpoint : 
- Request DTO:
	- 
- Mô tả: 
- Response DTO: 
	- 
###  Get All Course by space and User
- Quyền : User
- Endpoint : /courses/user/owner?spaceid=123&search="english"&status="public"
- Request DTO:
	- spaceId
	- search?
	- page?
	- perPage?
- mô tả: space id ,  
- Response DTO: 
	- data : course[]
	- pagination : 


###  Get All Course by space
- Quyền : 
- Endpoint : /courses/published POST
- Request DTO:
	- course_joined
	- search?
	- page?
	- perPage?
- Mô tả: Tìm kiếm với Published = true và thuộc mảng courre_joined
- Response DTO: 
	-  data : course[]
	- pagination 

### Get  course recommend
- Quyền : User
- Endpoint : /courses/recommend
- Request DTO:
	- course_joined
	- numberRecommend : number (max la 5)
- Mô tả: Dựa vào id user để filter top 5 hoặc numberRecommend các course dựa user.current_level , user.languages 
- Response DTO: 
	- data: course []


### Join Course
- Quyền : User
- Endpoint : /courses/:id/join - method : POST
- Request DTO:
	- spaceId
	- 
- Mô tả:
	-  Tim kiếm space -> được space
	- thêm id course vào course_joined của đối tượng space
	- return space 
- Response DTO:  (trả về space)
	- course_joined string[]


### Detail Course
- Quyền : User
- Endpoint : /courses/:id
- Request DTO:
	- 
- Mô tả: Tìm kiếm course theo id , trả về có mở rộng trường review , created by , units
- Response DTO: 
	- id course 
	- title 
	- current_unit_id
	- ... course với các trường mở rộng 

### Get All Unit Name By Course
- Quyền : User 
- Endpoint : /courses/:id/units/preview
- Request DTO:
- Mô tả: 
- Response DTO: 
	- id 
	- title
	- description
	- order_index 
	- created at
	- updated_at

### Get Detail Unit 
- Quyền : User 
- Endpoint : /course/:id/units/:idunit
- Request DTO:
- Mô tả: 
- Response DTO: 
	-  id 
	- title
	- description
	- order_index 
	- comments
	- created at
	- updated_at
	- unitcontents []
- 